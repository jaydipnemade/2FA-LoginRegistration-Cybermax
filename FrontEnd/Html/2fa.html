<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Two-Factor Authentication</title>
    <!-- <link rel="stylesheet" href="styles.css"> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary mb-5">
        <div class="container-fluid">

            <div class="navbar-brand ">
                <h1>Two-Factor Authentication</h1>

            </div>
            <div class=" me-2">
                <a href="/FrontEnd/Html/index.html">
                    <button type="button" class="btn btn-success">Login</button>
                </a>

            </div>
        </div>
    </nav>
    <!-- <form action="" id="loginForm"></form> -->

    <!-- <form id="2faForm">
        <input type="text" id="token" placeholder="2FA Token" required>
        <button type="submit">Verify</button>
    </form> -->
    <!-- <img id="qrCodeImage" src="" alt="QR Code"> -->
    <div class=" d-flex align-items-center  flex-column p-5 ">

        <div class="rounded-4 p-4 col-md-3 shadow-lg mx-3">
            <h3 class="text-center heading">Login to Your Account</h3>

            <form action="" id="loginForm"></form>
            <form class="mt-3" id="2faForm">
                <div class="row justify-content-center mb-3">

                    <div>
                        <img class="d-block mx-auto" id="qrCodeImage" src="" alt="QR Code">

                    </div>
                </div>
                <div class=" mb-3">
                    <label htmlFor="email" class="row justify-content-center form-label">
                        Enter Token
                    </label>
                    <input class="form-control" type="text" id="token" placeholder="2FA Token" required />
                </div>
                <button type="submit" class="btn btn-primary w-100 mt-2">
                 Verify
                </button>
            </form>
        </div>
    </div>



    <!--  -->
    <script src="../JavaScript/2fa.js" type="module"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            // Retrieve qrCodeUrl from query parameters
            const urlParams = new URLSearchParams(window.location.search);
            const qrCodeUrl = urlParams.get('qrCodeUrl');

            // Set the src attribute of the image element to qrCodeUrl
            document.getElementById("qrCodeImage").src = qrCodeUrl;
        });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
        integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS"
        crossorigin="anonymous"></script>
</body>

</html>